(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"8b24":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("transition-group",{attrs:{appear:"","enter-active-class":"animated bounceIn","leave-active-class":"animated bounceOut"}},[e("h4",{key:"titulo",staticClass:"titulo text-center"},[t._v("Lista de Tareas ")])]),e("q-page",{staticClass:"row items-center justify-evenly"},[e("lista-tareas",{attrs:{tarjetasInicial:t.tarjetasInicial,title:"Example component",active:""}})],1)],1)},r=[],o=function(){var t=this,a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("q-dialog",{model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[a._v(a._s(a.tituloForm))])]),i("q-card-section",{staticClass:"q-py-none"},[i("q-form",{staticClass:"formulario",on:{submit:function(t){return a.onSubmit(t.target)}}},[i("q-input",{attrs:{name:"TaskId",autofocus:"",filled:"",label:"Id de la Nota",dense:!0,"lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"Porfavor Ingrese el Id de la Nota"},function(t){return!isNaN(t)||"Ingrese un Id VÃ¡lido"},function(a){return t.idVerificar===parseInt(a)||(void 0===t.originalTarjetas.find((function(t){return t.TaskId===parseInt(a)}))||"El id ingresado ya existe")}]},model:{value:a.idTarjeta,callback:function(t){a.idTarjeta=t},expression:"idTarjeta"}}),i("q-input",{staticClass:"q-my-sm",attrs:{name:"Name",filled:"",label:"Nombre de la Nota",dense:!0,"lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"Porfavor ingrese el Nombre de la Nota"}]},model:{value:a.nombreTarjeta,callback:function(t){a.nombreTarjeta=t},expression:"nombreTarjeta"}}),[i("div",{staticClass:"q-my-sm"},[i("q-input",{attrs:{name:"DeadLine",label:"Vencimiento",readonly:"",filled:"",dense:!0,"lazy-rules":"",rules:[function(a){return t.fechaHoy()||"La fecha y hora debe ser posterior a la actual"}]},scopedSlots:a._u([{key:"prepend",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"YYYY/MM/DD HH:mm",format24h:!1,"today-btn":""},on:{input:function(t){return a.cerrarSelectorFecha("date")}},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{id:"btnFecha",label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-time",{attrs:{mask:"YYYY/MM/DD HH:mm",format24h:!1},on:{input:function(t){return a.cerrarSelectorFecha("hour")}},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{id:"btnHora",label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1)],i("q-card-actions",{staticClass:"q-px-none text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"closeForm",attrs:{flat:"",color:"blue-grey",label:"Cancelar"}}),i("q-btn",{attrs:{flat:"",color:a.colorBoton,label:a.labelBoton,type:"submit"}})],1)],2)],1)],1)],1),i("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("q-form",{key:"elem",staticClass:"q-mx-lg",staticStyle:{display:"flex","flex-direction":"column"},on:{submit:function(t){return a.filtro(t.target)}}},[i("q-input",{staticClass:"inputBuscar",attrs:{label:"Buscar",filled:"","lazy-rules":"",dense:!0},scopedSlots:a._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){a.vrBusqueda="",a.filtro(t.target)}}})]},proxy:!0},{key:"hint",fn:function(){return[a._v("\n          Field hint\n        ")]},proxy:!0}]),model:{value:a.vrBusqueda,callback:function(t){a.vrBusqueda=t},expression:"vrBusqueda"}}),i("q-btn",{staticClass:"q-mt-sm",attrs:{type:"submit",color:"secondary"}},[a._v("Buscar")])],1)],1),i("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("q-carousel",{key:"carouselAnimate",staticClass:"rounded-borders q-mb-sm tamanoCarousel",staticStyle:{height:"530px",width:"100%"},attrs:{"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"",arrows:"","control-color":"black","prev-icon":"arrow_left","next-icon":"arrow_right"},model:{value:a.slide,callback:function(t){a.slide=t},expression:"slide"}},a._l(a.slidesMostrar,(function(t,e,r){return i("q-carousel-slide",{key:r,staticClass:"column no-wrap flex-center",attrs:{name:t.id}},[i("div",{staticClass:"q-pa-xl row justify-center q-gutter-xl"},a._l(t,(function(t){return i("q-card",{key:t.TaskId,staticClass:"tarjeta"},[i("q-card-section",{staticClass:"bg-primary text-white"},[i("q-badge",{attrs:{align:"top"}},[a._v("Id: "+a._s(t.TaskId)+" ")]),i("div",{staticClass:"text-h6"},[a._v(a._s(t.Name)+"             \n          ")]),i("div",{staticClass:"text-subtitle2"},[a._v("Vencimiento: "+a._s(a.convierteFecha("tarjeta",t.DeadLine)))])],1),i("q-card-actions",{staticClass:"justify-center"},[i("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return a.abrirModal("modificar",t)}}},[a._v("Modificar")]),i("q-btn",{attrs:{color:"red",flat:""},on:{click:function(e){return a.borrar(t.TaskId)}}},[a._v("Borrar")])],1)],1)})),1)])})),1)],1),i("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[i("div",{key:"pagination",staticClass:"row justify-center"},[i("q-pagination",{staticClass:"q-mx-lg",attrs:{color:"teal",max:a.options,"direction-links":!0,"boundary-links":!0,"icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},on:{click:function(t){return a.setPagination()}},model:{value:a.pagination,callback:function(t){a.pagination=t},expression:"pagination"}})],1)]),i("transition-group",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[i("q-page-sticky",{key:"sticky",attrs:{position:"bottom-right",offset:[18,18]}},[i("q-btn",{attrs:{fab:"",icon:"add_task",color:"primary"},on:{click:function(t){return a.abrirModal("agregar")}}},[i("q-tooltip",[a._v("\n            Agregar Tarea\n          ")])],1)],1)],1)],1)},n=[],s=(e("c975"),e("e6cf"),e("e4fd")),l=(e("2a19"),e("cf57")),c=Object(s["defineComponent"])({name:"CompositionComponent",props:{tarjetasInicial:{type:Array,required:!0}},mounted(){this.organizarTarjetas(this.tarjetasInicial),this.originalTarjetas=this.tarjetasInicial;let t=this.setPagination;document.querySelector(".q-carousel__slides-container").addEventListener("transitionend",(function(a){t("slide")}),!1)},data(){return{modal:!1,tarjetas:[],idVerificar:"",idTarjeta:"",nombreTarjeta:"",date:"2020/09/09 12:00 AM",accionSubmit:"agregar",tituloForm:"Nueva Tarea",labelBoton:"Agregar",colorBoton:"positive",slide:"0",options:0,slidesMostrar:[],pagination:1,vrBusqueda:"",originalTarjetas:[],saveDate:"",cargadaPagina:!1}},methods:{abrirModal(t,a){this.modal=!0,this.accionSubmit=t,"modificar"==t?(this.idVerificar=a.TaskId,this.idTarjeta=a.TaskId,this.nombreTarjeta=a.Name,this.date=this.convierteFecha("",a.DeadLine),this.tituloForm="Modificar Tarea",this.labelBoton="Modificar",this.colorBoton="primary"):(this.idVerificar="",this.idTarjeta="",this.nombreTarjeta="",this.date=this.convierteFecha("",Date.now()),this.tituloForm="Nueva Tarea",this.labelBoton="Agregar",this.colorBoton="positive"),this.guardaFecha()},organizarTarjetas(t){this.slidesMostrar=[],this.tarjetas=t;let a=2,e=this.tarjetas.length/a,i=e-parseInt(e),r=this.tarjetas.length,o=0,n=0;e=i>0?parseInt(e)+1:e,this.options=0;for(let l=0;l<e;l++){o=r<a?r:a,this.slidesMostrar.push([]);for(var s=0;s<o;s++)this.slidesMostrar[l].push(this.tarjetas[n]),this.slidesMostrar[l].id=""+l,r-=1,n+=1}e-1>=0&&(this.slide=parseInt(this.slide)>e-1?(e-1).toString():this.slide),this.options=e},onSubmit(t){"agregar"==this.accionSubmit&&this.agregar(t),"modificar"==this.accionSubmit&&this.modificar(t),document.querySelector(".closeForm").click()},obtenerTodos(){let t;t=`${window.location.origin}/api/obtenerTodos/`;this.pantallaCargando("mostrar");fetch(t,{method:"GET",mode:"cors"}).then((t=>t.json())).then((t=>{this.organizarTarjetas(t),this.originalTarjetas=t,this.pantallaCargando("")}))},agregar(t){let a;a=`${window.location.origin}/api/save`;let e=new FormData(t),i=this;this.pantallaCargando("mostrar"),fetch(a,{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){i.obtenerTodos(),i.pantallaCargando(""),i.notificacion("Agregado"==t.res?"positivo":"negativo","Agregado"==t.res?"agregada":"agregar")})).catch((function(t){i.pantallaCargando(""),i.notificacion("negativo","agregar")}))},modificar(t){let a;a=`${window.location.origin}/api/update`;let e=new FormData(t);e.append("TaskIdActual",this.idVerificar);let i=this;this.pantallaCargando("mostrar"),fetch(a,{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){i.obtenerTodos(),i.pantallaCargando(""),i.notificacion("Modificado"==t.res?"positivo":"negativo","Modificado"==t.res?"modificada":"modificar")})).catch((function(t){i.pantallaCargando(""),i.notificacion("negativo","modificar")}))},borrar(t){let a;a=`${window.location.origin}/api/delete`;let e=new FormData;e.append("TaskId",t);let i=this;this.pantallaCargando("mostrar"),fetch(a,{method:"DELETE",body:e}).then((function(t){return t.json()})).then((function(t){i.obtenerTodos(),i.pantallaCargando(""),i.notificacion("Borrado"==t.res?"positivo":"negativo","Borrado"==t.res?"borrada":"borrar")})).catch((function(t){i.pantallaCargando(""),i.notificacion("negativo","borrar")}))},convierteFecha(t,a){let e;if("tarjeta"==t){let t=new Date(a),i=t.toLocaleString("en-US",{hour:"numeric",hour12:!0}).split(" "),r=t.getMinutes()<10?0+t.getMinutes().toString():t.getMinutes(),o=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];e=`${o[t.getMonth()]} ${t.getDate().toString()}, ${t.getFullYear()} \n        ${i[0]}:${r} ${i[1]}`}else if("fix"==t.substring(0,3)){let i=new Date(a),r=new Date(this.saveDate);if("fixHour"==t){let t=i.toLocaleString("en-US",{hour:"numeric",hour12:!0}).split(" "),a=i.getMinutes()<10?0+i.getMinutes().toString():i.getMinutes();e=`${r.getFullYear()}/${r.getMonth()+1}/${r.getDate().toString()} ${t[0]}:${a} ${t[1]}`}else{let t=r.toLocaleString("en-US",{hour:"numeric",hour12:!0}).split(" "),a=r.getMinutes()<10?0+r.getMinutes().toString():r.getMinutes();e=`${i.getFullYear()}/${i.getMonth()+1}/${i.getDate().toString()} ${t[0]}:${a} ${t[1]}`}}else{let t=new Date(a),i=t.toLocaleString("en-US",{hour:"numeric",hour12:!0}).split(" "),r=t.getMinutes()<10?0+t.getMinutes().toString():t.getMinutes();e=`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate().toString()} ${i[0]}:${r} ${i[1]}`}return e},cerrarSelectorFecha(t){"hour"==t?(document.querySelector("#btnHora").click(),this.date=this.convierteFecha("fixHour",this.date)):(document.querySelector("#btnFecha").click(),this.date=this.convierteFecha("fixYear",this.date)),this.guardaFecha()},setPagination(t){"slide"==t?this.pagination=parseInt(this.slide)+1:this.slide=(this.pagination-1).toString()},notificacion(t,a){let e,i,r;"positivo"==t?(e=`Tarea ${a} Satisfactoriamente.`,r="positive",i="sentiment_satisfied_alt"):(e=`Error al ${a} Tarea`,r="negative",i="mood_bad"),this.$q.notify({message:e,color:r,icon:i,position:"top",timeout:150})},filtro(t){if(""!=this.vrBusqueda){let t;this.tarjetas=this.originalTarjetas;let e=this.tarjetas;function a(t,a,e){return e.indexOf(t)===a}let i,r=e;Array.prototype.forEach.call(this.vrBusqueda.split(" "),(e=>{t=new RegExp(`${e}.*`,"i"),i=r.filter((a=>a.Name.match(t))),i=i.concat(r.filter((a=>a.TaskId.toString().match(t)))),i=i.concat(r.filter((a=>this.convierteFecha("tarjeta",a.DeadLine).match(t)))),i=i.filter(a),r=i})),this.organizarTarjetas(r)}else this.organizarTarjetas(this.originalTarjetas);document.querySelector(".inputBuscar").focus()},guardaFecha(){this.saveDate=this.date},fechaHoy(){let t=new Date(Date.now());return this.convierteFecha("",this.date)>this.convierteFecha("",t)},pantallaCargando(t){"mostrar"==t?this.$q.loading.show({delay:400,spinner:l["a"],spinnerColor:"white",messageColor:"white",backgroundColor:"green",message:"Cargando ..."}):this.$q.loading.hide()}}}),d=c,u=(e("a980"),e("2877")),p=e("24e8"),h=e("f09f"),m=e("a370"),f=e("0378"),g=e("27f9"),b=e("0016"),v=e("7cbe"),y=e("52ee"),q=e("9c40"),C=e("ca78"),j=e("4b7e"),k=e("880c"),T=e("62cd"),w=e("58a81"),x=e("3b16"),S=e("de5e"),M=e("05c0"),I=e("7f67"),$=e("eebe"),_=e.n($),F=Object(u["a"])(d,o,n,!1,null,"5557270e",null),D=F.exports;_()(F,"components",{QDialog:p["a"],QCard:h["a"],QCardSection:m["a"],QForm:f["a"],QInput:g["a"],QIcon:b["a"],QPopupProxy:v["a"],QDate:y["a"],QBtn:q["a"],QTime:C["a"],QCardActions:j["a"],QCarousel:k["a"],QCarouselSlide:T["a"],QBadge:w["a"],QPagination:x["a"],QPageSticky:S["a"],QTooltip:M["a"]}),_()(F,"directives",{ClosePopup:I["a"]});var B=Object(s["defineComponent"])({props:{tarjetasInicial:{type:Array,required:!0}},name:"PageIndex",components:{ListaTareas:D}}),N=B,Q=e("9989"),P=Object(u["a"])(N,i,r,!1,null,null,null);a["default"]=P.exports;_()(P,"components",{QPage:Q["a"]})},a980:function(t,a,e){"use strict";e("b192")},b192:function(t,a,e){}}]);